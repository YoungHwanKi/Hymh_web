<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>회원가입</title>

    <!-- CSS -->
    <link th:href="@{/css/register.css}" rel="stylesheet"/>

</head>

<body>

<div class="auth-container">

    <h2 class="auth-title">회원가입</h2>

    <form method="post" th:action="@{/register}" class="auth-form" onsubmit="validateForm(event)">
        <div class="input-group">
            <label><span class="required">*</span>아이디</label>
            <input type="text" name="yid" placeholder="아이디를 입력하세요" required/>
        </div>

        <div class="input-group">
            <label><span class="required">*</span>비밀번호</label>
            <input type="password" id="password" name="password" placeholder="비밀번호를 입력하세요" required/>
        </div>

        <div class="input-group">
            <label><span class="required">*</span>비밀번호 확인</label>
            <input type="password" id="passwordConfirm" name="passwordConfirm"
                   placeholder="비밀번호를 다시 입력하세요" required/>
        </div>

        <p id="pwCheckMsg" style="color:red; font-size:13px; display:none;"></p>

        <div class="input-group">
            <label><span class="required">*</span>이름</label>
            <input type="text" name="yname" placeholder="이름을 입력하세요" required/>
        </div>

        <div class="input-group">
            <label><span class="required">*</span>전화번호</label>
            <input type="text" name="ytel" placeholder="010-0000-0000" required/>
        </div>

        <button type="submit" class="auth-btn primary">가입하기</button>

    </form>

    <p class="auth-bottom">
        이미 계정이 있나요?
        <a href="/login">로그인 하기</a>
    </p>

</div>

<script>
    const pw = document.getElementById("password");
    const pw2 = document.getElementById("passwordConfirm");
    const msg = document.getElementById("pwCheckMsg");

    pw2.addEventListener("input", function () {
        if (pw2.value.length === 0) {
            msg.style.display = "none";
            return;
        }

        if (pw.value === pw2.value) {
            msg.style.display = "block";
            msg.style.color = "green";
            msg.innerText = "비밀번호가 일치합니다.";
        } else {
            msg.style.display = "block";
            msg.style.color = "red";
            msg.innerText = "비밀번호가 일치하지 않습니다.";
        }
    });

    // 폼 제출 시 검증
    function validateForm(event) {
        if (pw.value !== pw2.value) {
            event.preventDefault();
            alert("비밀번호가 일치하지 않습니다.");
        }
    }
</script>

</body>
</html>